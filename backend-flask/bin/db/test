#!/usr/bin/env python3

import psycopg
import os
import sys

connection_url = os.getenv("CONNECTION_URL")

conn = None
try:
  print('attempting connection')
  conn = psycopg.connect(connection_url)
  print("Connection successful!")
  sys.exit(0)  # Success exit code
except psycopg.Error as e:
  print("Unable to connect to the database:", e)
  sys.exit(1)  # Failure exit code
finally:
  if conn is not None:
    conn.close()